{"version":3,"sources":["webpack:///./src/views/DashboardView.vue","webpack:///./src/components/DashboardNav.vue","webpack:///./src/components/DashboardNav.vue?681f","webpack:///./src/views/DashboardView.vue?701d"],"names":["_createVNode","_component_Loading","active","$data","z-index","_component_DashboardNav","onLogout","$options","_createBlock","_component_router_view","key","class","_createElementVNode","type","data-bs-toggle","data-bs-target","aria-controls","aria-expanded","aria-label","id","_createElementBlock","_component_router_link","to","_hoisted_4","aria-current","href","onClick","_ctx","script","__exports__","data","status","isLoading","methods","logout","this","url","process","$http","post","then","res","success","$router","push","$httpMessageState","catch","err","response","created","token","document","cookie","replace","defaults","headers","common","Authorization","components","DashboardNav","render"],"mappings":"mYACEA,yBAAuDC,EAAA,CAA7CC,OAAQC,YAAYC,UAAS,MAAvC,mBACAJ,yBAA8CK,EAAA,CAA/BC,SAAQC,UAAM,qBACVJ,mCAAnBK,yBAAyCC,EAAA,CAAAC,SAAzC,4C,2BCFKC,MAAM,iD,GACJA,MAAM,mB,+BACgC,O,EACzCC,gCAUS,UATPD,MAAM,iBACNE,KAAK,SACLC,iBAAe,WACfC,iBAAe,sBACfC,gBAAc,qBACdC,gBAAc,QACdC,aAAW,qBAPb,CASEN,gCAAyC,QAAnCD,MAAM,0BATd,G,GAWKA,MAAM,2BAA2BQ,GAAG,sB,GAClCR,MAAM,c,+BAKN,Q,+BAE8C,M,+BACC,O,+BAE/C,O,mGAzBXS,gCA+BM,MA/BN,EA+BM,CA9BJR,gCA6BM,MA7BN,EA6BM,CA5BJZ,yBAA0DqB,EAAA,CAA7CV,MAAM,eAAeW,GAAG,KAArC,C,8BAAyC,iBAAG,O,MAC5CC,EAWAX,gCAeM,MAfN,EAeM,CAdJA,gCAaM,MAbN,EAaM,CAZJZ,yBAKCqB,EAAA,CAJCV,MAAM,kBACNa,eAAa,OACbF,GAAG,mBAHL,C,8BAIG,iBAAI,O,MAEPtB,yBAAiEqB,EAAA,CAApDV,MAAM,WAAWW,GAAG,iBAAjC,C,8BAAiD,iBAAE,O,MACnDtB,yBAAmEqB,EAAA,CAAtDV,MAAM,WAAWW,GAAG,kBAAjC,C,8BAAkD,iBAAG,O,MACrDtB,yBAECqB,EAAA,CAFYV,MAAM,WAAWW,GAAG,mBAAjC,C,8BACG,iBAAG,O,MAENV,gCAAoE,KAAjEa,KAAK,IAAKC,QAAK,2DAAUC,QAAK,0BAAYhB,MAAM,YAAW,c,yBC3BxE,MAAMiB,EAAS,GAGTC,EAA2B,IAAgBD,EAAQ,CAAC,CAAC,SAAS,KAErD,QFEA,GACbE,KADa,WAEX,MAAO,CACLC,QAAQ,EACRC,WAAW,IAGfC,QAAS,CACPC,OADO,WACE,WACPC,KAAKH,WAAY,EACjB,IAAMI,EAAE,UAAOC,2CAAP,UACRF,KAAKG,MACFC,KAAKH,GACLI,MAAK,SAACC,IACoB,IAArBA,EAAIX,KAAKY,UACX,EAAKV,WAAY,EACjB,EAAKW,QAAQC,KAAK,UAClB,EAAKC,kBAAkBJ,EAAK,UAG/BK,OAAM,SAACC,GACN,EAAKf,WAAY,EACjB,EAAKa,kBAAkBE,EAAIC,SAAU,WAI7CC,QA1Ba,WA0BH,WACFb,EAAE,UAAOC,2CAAP,kBACFa,EAAQC,SAASC,OAAOC,QAC5B,gDACA,MAEFlB,KAAKG,MAAMgB,SAASC,QAAQC,OAAOC,cAAnC,UAAsDP,GACtDf,KAAKG,MACFC,KAAKH,GACLI,MAAK,SAACC,GACL,EAAKI,kBAAkBJ,EAAK,MAC5B,EAAKV,QAAS,KAEfe,OAAM,SAACC,GACN,EAAKF,kBAAkBE,EAAIC,SAAU,MACrC,EAAKL,QAAQC,KAAK,cAGxBc,WAAW,CACTC,iBGhDJ,MAAM,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD","file":"js/chunk-2d0da6c4.5c6d50cc.js","sourcesContent":["<template>\r\n  <Loading :active=\"isLoading\" :z-index=\"1060\"></Loading>\r\n  <DashboardNav @logout=\"logout\"></DashboardNav>\r\n  <router-view v-if=\"status\"></router-view>\r\n</template>\r\n\r\n<script>\r\nimport DashboardNav from \"@/components/DashboardNav.vue\"\r\nexport default {\r\n  data() {\r\n    return {\r\n      status: false,\r\n      isLoading: false,\r\n    };\r\n  },\r\n  methods: {\r\n    logout() {\r\n      this.isLoading = true;\r\n      const url = `${process.env.VUE_APP_API}logout`;\r\n      this.$http\r\n        .post(url)\r\n        .then((res) => {\r\n          if (res.data.success === true) {\r\n            this.isLoading = false;\r\n            this.$router.push(\"/login\");\r\n            this.$httpMessageState(res, \"登出\");\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          this.isLoading = false;\r\n          this.$httpMessageState(err.response, \"登出\");\r\n        });\r\n    },\r\n  },\r\n  created() {\r\n    const url = `${process.env.VUE_APP_API}api/user/check`;\r\n    const token = document.cookie.replace(\r\n      /(?:(?:^|.*;\\s*)myToken\\s*=\\s*([^;]*).*$)|^.*$/,\r\n      \"$1\"\r\n    );\r\n    this.$http.defaults.headers.common.Authorization = `${token}`; // 取出token\r\n    this.$http\r\n      .post(url)\r\n      .then((res) => {\r\n        this.$httpMessageState(res, \"登入\");\r\n        this.status = true;\r\n      })\r\n      .catch((err) => {\r\n        this.$httpMessageState(err.response, \"登入\");\r\n        this.$router.push(\"/login\"); // 驗證失敗轉回登入\r\n      });\r\n  },\r\n  components:{\r\n    DashboardNav,\r\n  }\r\n};\r\n</script>","<template>\r\n  <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n    <div class=\"container-fluid\">\r\n      <router-link class=\"navbar-brand\" to=\"/\">回前台</router-link>\r\n      <button\r\n        class=\"navbar-toggler\"\r\n        type=\"button\"\r\n        data-bs-toggle=\"collapse\"\r\n        data-bs-target=\"#navbarNavAltMarkup\"\r\n        aria-controls=\"navbarNavAltMarkup\"\r\n        aria-expanded=\"false\"\r\n        aria-label=\"Toggle navigation\"\r\n      >\r\n        <span class=\"navbar-toggler-icon\"></span>\r\n      </button>\r\n      <div class=\"collapse navbar-collapse\" id=\"navbarNavAltMarkup\">\r\n        <div class=\"navbar-nav\">\r\n          <router-link\r\n            class=\"nav-link active\"\r\n            aria-current=\"page\"\r\n            to=\"/admin/products\"\r\n            >產品列表</router-link\r\n          >\r\n          <router-link class=\"nav-link\" to=\"/admin/orders\">訂單</router-link>\r\n          <router-link class=\"nav-link\" to=\"/admin/coupons\">優惠券</router-link>\r\n          <router-link class=\"nav-link\" to=\"/admin/articles\"\r\n            >部落格</router-link\r\n          >\r\n          <a href=\"#\" @click.prevent=\"$emit('logout')\" class=\"nav-link\">登出</a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </nav>\r\n</template>","import { render } from \"./DashboardNav.vue?vue&type=template&id=40422210\"\nconst script = {}\n\nimport exportComponent from \"C:\\\\Users\\\\Jasper\\\\Desktop\\\\github\\\\Vue_week7\\\\vue-week7\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./DashboardView.vue?vue&type=template&id=5b1d4d57\"\nimport script from \"./DashboardView.vue?vue&type=script&lang=js\"\nexport * from \"./DashboardView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\Jasper\\\\Desktop\\\\github\\\\Vue_week7\\\\vue-week7\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}